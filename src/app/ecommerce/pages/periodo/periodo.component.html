<div class="card card-border p-3 mt-4">
  <div class="row px-5">
    <div class="col-md-12">
      <h5 id="invalidPeriodo"><b>{{periodonum}}. Selecciona período de facturación</b></h5>
      <small class="text-danger" *ngIf="invalidPeriodo == 2">
        <b>Debes seleccionar un Periodo de Contratación</b>
      </small>
    </div>

    <div class="col-md-12">
      <div class="row" [formGroup]="form">

          <ng-container *ngFor="let item of periodos; let i=index">
            
            <ng-container *ngIf="(item.id_periodo==2 && mostrarPeriodo1Year==1 ||
                                  item.id_periodo==3 && mostrarPeriodo2Year==1 || 
                                  item.id_periodo==4 && mostrarPeriodo3Year==1)">
              
              <div class="col-md-4 text-center">
                <button
                type="button"
                class="btn bg-azul-crt text-white p-0"
                style="
                  font-size: 16px;
                  width: 100%;
                  border-radius: 0px;
                  border-top-left-radius: 5px;
                  border-top-right-radius: 5px;
                "
                *ngIf="item.id_periodo == 4; else caro"
              >
                Más económico
              </button>
                                
              <ng-template #caro>
              
                <button
                type="button"
                class="btn bg-white text-white p-0"
                style="
                  font-size: 16px;
                  width: 100%;
                  border-radius: 0px;
                  border-top-left-radius: 5px;
                  border-top-right-radius: 5px;
                "
              >
                Más económico
              </button>
              
              </ng-template>
              <input
                type="radio"
                class="btn-check"
                [id]="i"
                [value]="item.id_periodo"
                formControlName="periodo"
                autocomplete="off"
                (change)="modificarcarro()"
              />
              <label
                class="btn btn-periodos px-0 pb-0 card-border"
                [for]="i"
                style="
                  width: 100%;
                  border-radius: 0px;
                  text-align: left;
                  border-bottom-left-radius: 5px;
                  border-bottom-right-radius: 5px;
                  border-top-left-radius: 5px;
                  border-top-right-radius: 5px;
                "
              >

              <strong class="px-3" style="font-size: 17px">
                Cada {{item.periodo}}
              </strong>
                                
              <br />
                                
              <strong class="px-3">
                {{item.precio_mensual | currency:'USD':'symbol-narrow':'4.0-0':'es-CL'}}
            
                <small style="font-size: 14px">CLP/mes</small>
              </strong>
                                
              <p class="px-3" style="line-height: 1.2">
                <small style="font-size: 14px; color: #1f2044">
                  De:
                  <span style="text-decoration: line-through"
                    >{{item.precio | currency:'USD':'symbol-narrow':'4.0-0':'es-CL' }} </span
                  >
                </small>
            
                <br />
            
                <small style="font-size: 14px; color: #1f2044">
                  A: <b>{{item.precio_descuento | currency:'USD':'symbol-narrow':'4.0-0':'es-CL'}} CLP</b> <br />
                  por {{item.periodo}}
                </small>
              </p>
                                
                                  <div class="mb-0 pt-1 pb-1 px-0 text-center card-footer">
                                    <h6><b>Ahorra: {{item.ahorro | currency:'USD':'symbol-narrow':'4.0-0':'es-CL'}} CLP</b></h6>
                                  </div>
              </label>
              </div>
            </ng-container>

            <ng-container *ngIf="(item.id_periodo==5 && mostrarPagoUnico==1)">
              
              <div class="col-md-4 text-center">
              <input
                type="radio"
                class="btn-check"
                [id]="i"
                [value]="item.id_periodo"
                formControlName="periodo"
                autocomplete="off"
                (change)="modificarcarro()"
              />
              <label
                class="btn btn-periodos px-0 pb-0 card-border"
                [for]="i"
                style="
                  width: 100%;
                  border-radius: 0px;
                  text-align: left;
                  border-bottom-left-radius: 5px;
                  border-bottom-right-radius: 5px;
                  border-top-left-radius: 5px;
                  border-top-right-radius: 5px;
                "
              >

              <strong class="px-3" style="font-size: 17px">
                {{item.periodo}}
              </strong>
                                
              <br />
                                
              <strong class="px-3">
                {{item.precio_mensual | currency:'USD':'symbol-narrow':'4.0-0':'es-CL'}}
            
                <small style="font-size: 14px">CLP</small>
              </strong>
                                
              <p class="px-3" style="line-height: 1.2">
                <small style="font-size: 14px; color: #1f2044" style="visibility: hidden;">
                  De:
                  <span style="text-decoration: line-through"
                    >0 </span
                  >
                </small>
            
                <br />
            
                <small style="font-size: 14px; color: #1f2044">
                  Paga solo: <b>{{item.precio_descuento | currency:'USD':'symbol-narrow':'4.0-0':'es-CL'}} CLP</b> <br />
                  por única vez
                </small>
              </p>
                                
              <div class="mb-0 pt-1 pb-1 px-0 text-center card-footer">
                <h6  style="visibility: hidden;"><b>Ahorra: 0 CLP</b></h6>
              </div>
              </label>
              </div>
            </ng-container>

            <ng-container *ngIf="(item.id_periodo==1 && mostrarPeriodoMes==1)">
              
              <div class="col-md-4 text-center">
              
                <button type="button" class="btn bg-white text-white p-0" style="font-size: 16px; width: 100%; border-radius: 0px; border-top-left-radius: 5px; border-top-right-radius: 5px;" style="visibility: hidden;"></button>
              
              <input
                type="radio"
                class="btn-check"
                [id]="i"
                [value]="item.id_periodo"
                formControlName="periodo"
                autocomplete="off"
                (change)="modificarcarro()"
              />
              <label
                class="btn btn-periodos px-0 pb-0 card-border"
                [for]="i"
                style="
                  width: 100%;
                  border-radius: 0px;
                  text-align: left;
                  border-bottom-left-radius: 5px;
                  border-bottom-right-radius: 5px;
                  border-top-left-radius: 5px;
                  border-top-right-radius: 5px;
                "
              >

              <strong class="px-3" style="font-size: 17px">
                {{item.periodo}}
              </strong>
                                
              <br />
                                
              <strong class="px-3">
                {{item.precio_mensual | currency:'USD':'symbol-narrow':'4.0-0':'es-CL'}}
            
                <small style="font-size: 14px">CLP</small>
              </strong>
                                
              <p class="px-3" style="line-height: 1.2">
                <small style="font-size: 14px; color: #1f2044" style="visibility: hidden;">
                  De:
                  <span style="text-decoration: line-through"
                    >0 </span
                  >
                </small>
            
                <br />
            
                <small style="font-size: 14px; color: #1f2044">
                  Paga solo: <b>{{item.precio_descuento | currency:'USD':'symbol-narrow':'4.0-0':'es-CL'}} CLP</b> <br />
                  por {{item.periodo}}
                </small>
              </p>
                                
              <div class="mb-0 pt-1 pb-1 px-0 text-center card-footer">
                <h6  style="visibility: hidden;"><b>Ahorra: 0 CLP</b></h6>
              </div>
              </label>
              </div>
            </ng-container>
          
          </ng-container>


      </div>
    </div>
  </div>
</div>
